<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
		<style>
			td {padding:0.5em;}
			code { white-space: pre; }
		</style>
    </head>  
    <body>
		<div class = "well">
			<h4>Accepted File Formats</h4>
			
			<ul>
				<li>Generic data table</li>
					<ul>
						<li>Tab separated with extensions <em>.txt</em>, .<em>dat</em>, <em>.tsv</em>, or <em>.tab</em></li>
						<li>Comma separated with extension <em>.csv</em></li>
						<li>First sheet of an Excel workbook with extension <em>.xlsx</em></li>
					</ul>
				<li>PDB file upload</li>
					<ul>
						<li>Protein Data Bank file, as used by the <a href="http://www.rcsb.org" target="_blank">RCSB Protein Data Bank</a>. The atom coordinates from the first chain are used.</li>
					</ul>
			</ul>
			
			<br />
			<h4>Data Structure</h4>
			
			<ul>
				<li>For distance matrix calculation: File should contain n data columns, where n &ge; 1, with each row representing a point in n-dimensional space.</li>
				<li>For correlation matrix calculation: File should contain n data columns, where n &gt; 1, with columns representing variables whose correlations to one another will be calculated.</li>
				<li>Note on labels: Optionally, the first row and/or first column may consist of data labels. If both contain data labels, a label of some sort (which will not be displayed) must also be present in the upper-left cell.
				If any non-numeric values are present in the first row or column, data labels are assumed to be present. If only numeric data labels are present, select the appropriate check box so that they are treated as labels.
				</li>
			</ul>
			
			<br />
			<h4>Acceptable Data Values</h4>
			
			<ul>
				<li>Any real numbers.</li>
			</ul>
			
			<br />
			<h4>Examples</h4>

			<h5>For Distance Matrix</h5>

			The distance matrix option calculates all pairwise distances between spatial points
			(in rows) and presents the distances as a matrix.<br /><br />

			Download an example input file <a href="examples/pairwise_dm_example1.txt" target="_blank">here</a>.
			<br /><br />

			Example 1:<br />

<code style="white-space: pre;">
27.340	24.430	2.614
26.266	25.413	2.842
26.913	26.639	3.531
27.886	26.463	4.263
25.112	24.880	3.649
</code>

			<br />
			Example 2:<br />

<code style="white-space: pre;">
placeholderLabel	x	y	z
point1	27.340	24.430	2.614
point2	26.266	25.413	2.842
point3	26.913	26.639	3.531
point4	27.886	26.463	4.263
point5	25.112	24.880	3.649
</code>

			<br />
			In this second example, we have included labels in both the header and first column, but
			labels in only the header or only the first column are also acceptable.

			<br /><br />
			<h5>For Correlation Matrix</h5>

			The correlation matrix option calculates all correlations between pairs of variables
			(in columns) and presents the correlation values as a matrix.<br /><br />

			Download an example input file <a href="examples/pairwise_corr_example1.txt" target="_blank">here</a>.
			<br /><br />

			Example 1:<br />
			
<code style="white-space: pre;">
SAMPLE	depth (m)	pH	temp (C)	biomass (ug/kg)
sample0001	0.500	6.3	5.43	8.1
sample0002	1.000	6.4	4.29	7.5
sample0003	2.000	6.5	3.65	6.3
sample0004	5.000	6.9	3.19	5.6
sample0005	10.000	7.1	2.80	5.9
</code>

		</div>
<div>
<h5>An example of pairwise functionality: Dairy cows diet</h5>
<p>You may use the following data file for this example - Metabolite concentrations of 39 rumen samples measured by proton NMR from dairy cows fed with different proportions of barley grain (Ametaj BN, et al. (2010) "Metabolomics reveals unhealthy alterations in rumen metabolism with increased proportion of cereal grain in the diet of dairy cows", Metabolomics 6-4:583-594). Group label - 0, 15, 30, or 45 - indicating the percentage of grain in diet.</p>

<a href="CowDiet.csv" download><p>CowDiet.csv</p>
</a>
<br></br>
<p>Click on the Pairwise tab on the main header and select the Upload File radio button, followed by the Choose File button. The following plot is created.</p>
<br></br>
<center><img src="images/HMP1.png" width="70%" height="70%"</body></img></center>
<br></br>
<p>The file has only numeric values in the first row and Heatmapper thinks they are data values. We want to treat them as header values. To do this, select the 'Lables in first row' option. Also, the default matrix type is selected as a distance matrix. For this example, we want to select the 'Calculate correlation matrix' option. You may also choose to display the data 'as is', without applying a distance matrix.</p>
<p>With a distance matrix, each row is treated as a point and Euclidean distances between points are calculated. With a correlation matrix, correlations between the variables in each data column are calculated.</p>
<br></br>
<center><img src="images/HMP2.png" width="50%" height="50%"</body></img></center>
<br></br>
<p>Also, you may uncheck the 'Reverse Data Order' option to change the order of the data on the x-axis and y-axis of the plot. The plot will be reversed.</p>
<br></br>
<center><img src="images/HMP3.png" width="50%" height="50%"</body></img></center>
<br></br>
<center><img src="images/HMP4.png" width="70%" height="70%"</body></img></center>
<br></br>
<p>You may choose a different color scheme, such as 'Rainbow' from the 'Color Scheme' dropdown menu option. This may be beneficial for a different representation of intensity.</p>
<br></br>
<center><img src="images/HMP8.png" width="70%" height="70%"</body></img></center>
<br></br>
<p>A few other options to try in the menu include:</p>
<p>Upload Format - Allows upload of data in generic table format or PDB format.</p>
<p>Number of Shades - The user may set the number of color shades to use in the plot. The minimum would only allow one shade of red and one shade of green along with black, for example. This option may be useful for viewing a more generalized pattern, or a more detailed version.</p>
<p>Aspect Ratio - You may check or uncheck this option that sets the aspect ratio of the image to 1. The aspect ratio refers to the proportional relationship between image width and image height.</p>
<p>Download - You may download at any time an image of the plot, or a text file in table format.</p>
<p>You may next update the names of the plot and the axes as you wish, by first clicking on the 'Show Advanced Options' tab.</p>
<br></br>
<center><img src="images/HMArrow.png" width="50%" height="50%"</body></img></center>
<br></br>
<center><img src="images/HMP5.png" width="50%" height="50%"</body></img></center>
<br></br>
<center><img src="images/HMP6.png" width="70%" height="70%"</body></img></center>
<br></br>
<p>The plot size may be adjusted to view a section in more detail. Notice the 'Interactive' plot tab. You may select a section on the plot by holding and dragging your mouse over the desired area. The plot will zoom in upon release. Hovering over the plot will display specific cell information. You may zoom back out by clicking the mouse on the plot one more time.</p>
<br></br>
<center><img src="images/HMP7.png" width="70%" height="70%"</body></img></center>
<br></br>
<p>You may also view the data in table format, by clicking on the 'Table' plot tab. You may choose to sort the table by columns or values, using the header arrows. You may also search the table for a specific region or value.</p>
<br></br>
<center><img src="images/HMP9.png" width="70%" height="70%"</body></img></center>
<br></br><br></br>
</div>
    </body>
</html>